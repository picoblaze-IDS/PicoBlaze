README VHDL
===========

Software setup
--------------
To use these files, you will need the ISE Webpack software freely available from Xilinx website:  http://www.xilinx.com/support/download/index.htm (choose "Full Installer for Windows").

Once you have installed the Webpack, launch the "ISE Design Suite" and create a new project.

You need to make sure that "Top level source type" is set to HDL. On the second page, select "Virtex 6" as a family, and "VHDL" as preferred language.

When you are asked to add the existing sources, select all the files from this folder.

Project setup
-------------
If you want to change the default packet and the set of intrusion detection rules generated by the Java program, double-click on "CPU_and_Table" and replace the INIT_XX lines in "dt: dataTable" for the rules, and in "nw: dataTable" for the packet.

    dt: dataTable
	generic map
	 (
	     portnumber => "00000100",
		  
	-- each INIT line has 32 bytes, which are arranged in order *right to left*
	-- hence the following line has the values 0 to 31 in order of increasing value
	-- INIT_00 => "1F1E1D1C1B1A191817161514131211100F0E0D0C0B0A09080706050403020100",
		  
	INIT_00 => X"2400620100000000000000025C01730108016D018400650118002F0100000000",
	INIT_01 => X"00000000000000033C006E010000000000000003300069010000000000000003",
	INIT_02 => X"5C01000360006801000000001800000354007301000000000000000348002F01",
	INIT_03 => X"1501A8C01501A8C0FFFF0000FFFFFFFF00000000060000040000000301000000",
	INIT_04 => X"00000000000000039C0074010000000000000003900078010000000016001600",
	INIT_05 => X"08010003C0006F010000000000000003B4006D010000000000000003A8002001",
	INIT_06 => X"E40074010000000020010003D8006E010000000014010003CC00750100000000",
	INIT_07 => X"0001A8C0FFFF0000FF01A8C00001A8C00600000438010003020000002C010003",
	INIT_08 => X"0000000320017501000000000000000314016F01000000006F006F00FF01A8C0",
	INIT_09 => X"0000000303000000000000033801740100000000000000032C016E0100000000",
	INIT_0A => X"000000006F006F00FF01A8C00001A8C0FFFF0000FFFFFFFF0000000006000004",
	INIT_0B => X"0000000380016501000000000000000374016301000000000000000368017501",
	INIT_0C => X"A4016501000000000000000398016D0100000000840000038C01200100000000",
	INIT_0D => X"000000005C010003BC0120010000000084000003B00173010000000008010003",
	INIT_0E => X"00000003E00175010000000000000003D4016F010000000000000003C8016201",
	INIT_0F => X"040273010000000000000003F80165010000000000000003EC016C0100000000",
	INIT_10 => X"080706051E000A000403020104030201060000045C0100030400000084000003",
	INIT_11 => X"0000000000000000000000000000000000000000000000004500450008070605"
	 )

When this is done, click on the "Simulation" combo box, select "CPU_and_Table_tb" and double-click on "Simulate Behavioral Model" to start the simulation.

You may need to change the simulation time if it is too short by right-clicking on "Simulate Behavioral Model" and selecting "Process Properties...", and then modifying the "Simulation Run Time" value.